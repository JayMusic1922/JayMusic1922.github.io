<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>The Family Store</title>
  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>

/* ************** ESTILOS DEL ZOOM (MODAL) ************** */

/* 1. Fondo del Modal (oculto por defecto) */
.modal-zoom {
    display: none; /* Oculto por defecto */
    position: fixed; /* PosiciÃ³n fija para cubrir toda la ventana */
    z-index: 1001; /* Alto para que estÃ© por encima de todo, incluyendo el loader */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto; /* Permite scroll si la imagen es muy grande */
    background-color: rgba(0,0,0,0.9); /* Fondo negro semitransparente */
}

/* 2. BotÃ³n de Cerrar (la 'x') */
.cerrar-btn {
    position: absolute;
    top: 15px;
    right: 35px;
    color: #f1f1f1;
    font-size: 40px;
    font-weight: bold;
    transition: 0.3s;
    cursor: pointer;
}
.cerrar-btn:hover,
.cerrar-btn:focus {
    color: #bbb;
    text-decoration: none;
    cursor: pointer;
}

/* 3. Contenido de la Imagen Ampliada */
.modal-contenido {
    margin: auto;
    display: block;
    width: 80%;
    max-width: 700px;
    margin-top: 10%; /* Lo baja un poco del centro vertical */
}

/* ************************************************* */

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      color: #222;
    }

    /* Fondo difuminado */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: url("fondo.png") center/cover no-repeat;
      filter: blur(8px) brightness(0.7);
      transform: scale(1.05);
      z-index: -2;
    }
    body::after {
      content: "";
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.25);
      z-index: -1;
    }

    .contenedor {
      max-width: 700px;
      margin: 40px auto;
      background: rgba(255,255,255,0.9);
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      position: relative;
      z-index: 1;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    .pulsera {
      border: 2px solid #ddd;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 10px;
      background: #fff;
    }

 .pulsera h3 {
    font-size: 32px; /* Aumenta el tamaÃ±o aquÃ­ */
    color: #333;    /* Un color oscuro para que resalte */
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 0;
    margin-bottom: 15px; /* Espacio extra debajo del tÃ­tulo */
    border-bottom: 2px solid #f0f0f0; /* Opcional: una lÃ­nea sutil abajo */
    padding-bottom: 5px;
}

    .btn-borrar {
      background: none;
      border: none;
      font-size: 18px;
      cursor: pointer;
      color: #d32f2f;
    }

.decoracion {
        border: 1px solid #f0f0f0;
        padding: 8px 10px;
        margin: 10px 0;
        border-radius: 6px;
        background: #fafafa;
    }

    .decoracion summary {
        font-size: 28px;
        cursor: pointer;
        font-weight: normal;
        text-decoration: underline;
        padding: 5px 0;
        list-style: none; /* Oculta la flecha por defecto */
        display: flex;
        align-items: center;
        /* Estilo personalizado de flecha */
    }
    .decoracion summary::before {
        content: 'â–¶ï¸'; /* Flecha derecha */
        margin-right: 10px;
        transition: transform 0.2s;
    }
    .decoracion[open] summary::before {
        content: 'ğŸ”½'; /* Flecha abajo */
        transform: rotate(90deg);
    }
    
    .contenido-decoracion {
        padding-top: 10px;
        border-top: 1px solid #eee;
    }

.item-decoracion {
    display: flex; 
    /* Volvemos a space-between para que la PIEDRERÃA use todo el ancho */
    justify-content: space-between; 
    
    align-items: center; 
    margin-bottom: 15px; 
    padding: 5px 0;
    border-bottom: 1px dotted #ccc;
}

/* AÃ±ade esta nueva regla a tu bloque <style> */
.item-centrado {
    /* Centra el contenido en el medio */
    justify-content: center; 
    /* AÃ±ade un espacio controlado entre los dos componentes (grupo-visual y contador) */
    gap: 40px; 
}

/* Si el nombre y la imagen estÃ¡n separados, ajustamos el espaciado entre los elementos */
.item-decoracion > span, 
.item-decoracion > img,
.item-decoracion > .contador {
    align-self: center; /* Asegura que cada hijo se centre a sÃ­ mismo */
}

/* AÃ±ade esta nueva regla a tu bloque <style> */
.grupo-visual {
    display: flex;
    flex-direction: column; 
    align-items: center; 
    gap: 5px; 
}

.contador {
    display: flex;
    align-items: center;
    gap: 5px;
}

    .decoracion {
      margin: 10px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .contador {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .contador button {
      width: 30px;
      height: 30px;
      border: none;
      border-radius: 5px;
      background: #f57c00;
      color: white;
      font-size: 16px;
      cursor: pointer;
    }

    .contador button:hover {
      background: #ef6c00;
    }

    .contador input {
      width: 40px;
      text-align: center;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 14px;
      height: 30px;
    }

    .subtotal {
      margin-top: 10px;
      font-weight: bold;
      text-align: right;
    }

    #total {
      font-size: 22px;
      font-weight: bold;
      margin-top: 20px;
      text-align: center;
    }

    #agregarPulsera {
      display: block;
      margin: 0 auto;
      padding: 10px 20px;
      background: #388e3c;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
    }

    #agregarPulsera:hover {
      background: #2e7d32;
    }

    .botones-exportar {
      margin-top: 20px;
      text-align: center;
    }

    .botones-exportar button {
      background: #4CAF50;
      color: white;
      padding: 10px 15px;
      margin: 5px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .botones-exportar button:hover {
      background: #45a049;
    }

    .botones-exportar .whatsapp {
      background: #25D366;
    }
    .botones-exportar .whatsapp:hover {
      background: #1ebe5d;
    }
@font-face {
    font-family: 'StoreFont';
    src: url('miamiwriting.ttf'); /* REEMPLAZA ESTO CON EL NOMBRE DE TU ARCHIVO */
  }

  body {
    font-family: 'StoreFont', sans-serif;
    /* ... resto de tu cÃ³digo ... */
  }
  
  /* AsegÃºrate de que el H1 tambiÃ©n la use */
  h1 {
    font-family: 'StoreFont', sans-serif;
    text-align: center;
    margin-bottom: 20px;
    color: #333;
  }
  </style>
</head>
<body>
  <div class="contenedor">
    <h1><img src="logo.png" alt="logo" style="height:150px; vertical-align:middle;"> The Family Store</h1>
    <p style="font-size: 30px; text-align: center; font-weight: 500; margin-bottom: 25px;">
  Con la promociÃ³n de la pagina cada pulsera tiene un costo fijo de $3.500 COP Sientete libre y Arma tus pulseras con las decoraciones que quieras. ğŸ§¡ğŸ–¤
</p>

    <div id="pulseras">
      <div class="pulsera">
        <h3>Pulsera <button class="btn-borrar">ğŸ—‘ï¸</button></h3>

        <details class="decoracion" ...>
Â  <summary> Piedreria ($100) </summary>
Â  Â  <div class="contenido-decoracion">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="item-decoracion">Â 
Â  Â  Â  Â  Â  Â  <img src="letras.png" alt="letras" style="height:100px; cursor: pointer;" onclick="abrirModal(this.src)">
Â  Â  Â  Â  Â  Â  <div class="contador">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="menos">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" value="0" readonly data-precio="100" data-nombre="letras">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="mas">+</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="item-decoracion">Â 
Â  Â  Â  Â  Â  Â  <img src="circulo_corazon.png" alt="circulo_corazon" style="height:100px; cursor: pointer;" onclick="abrirModal(this.src)">
Â  Â  Â  Â  Â  Â  <div class="contador">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="menos">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" value="0" readonly data-precio="100" data-nombre="circulo_corazon">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="mas">+</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="item-decoracion">Â 
Â  Â  Â  Â  Â  Â  <img src="diamantes.png" alt="diamantes" style="height:100px; cursor: pointer;" onclick="abrirModal(this.src)">
Â  Â  Â  Â  Â  Â  <div class="contador">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="menos">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" value="0" readonly data-precio="100" data-nombre="diamantes">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="mas">+</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="item-decoracion">Â 
Â  Â  Â  Â  Â  Â  <img src="forma_corazon.png" alt="forma_corazon" style="height:100px; cursor: pointer;" onclick="abrirModal(this.src)">
Â  Â  Â  Â  Â  Â  <div class="contador">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="menos">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" value="0" readonly data-precio="100" data-nombre="forma_corazon">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="mas">+</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="item-decoracion">Â 
Â  Â  Â  Â  Â  Â  <img src="forma_craneo.png" alt="forma_craneo" style="height:100px; cursor: pointer;" onclick="abrirModal(this.src)">
Â  Â  Â  Â  Â  Â  <div class="contador">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="menos">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" value="0" readonly data-precio="100" data-nombre="forma_craneo">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="mas">+</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="item-decoracion">Â 
Â  Â  Â  Â  Â  Â  <img src="forma_rosa.png" alt="forma_rosa" style="height:100px; cursor: pointer;" onclick="abrirModal(this.src)">
Â  Â  Â  Â  Â  Â  <div class="contador">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="menos">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" value="0" readonly data-precio="100" data-nombre="forma_rosa">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="mas">+</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="item-decoracion">Â 
Â  Â  Â  Â  Â  Â  <img src="numeros.png" alt="numeros" style="height:100px; cursor: pointer;" onclick="abrirModal(this.src)">
Â  Â  Â  Â  Â  Â  <div class="contador">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="menos">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" value="0" readonly data-precio="100" data-nombre="numeros">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="mas">+</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="item-decoracion">Â 
Â  Â  Â  Â  Â  Â  <img src="rosa_ceniza.png" alt="rosa_ceniza" style="height:100px; cursor: pointer;" onclick="abrirModal(this.src)">
Â  Â  Â  Â  Â  Â  <div class="contador">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="menos">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" value="0" readonly data-precio="100" data-nombre="rosa_ceniza">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="mas">+</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="item-decoracion">Â 
Â  Â  Â  Â  Â  Â  <img src="rosa_plata.png" alt="rosa_plata" style="height:100px; cursor: pointer;" onclick="abrirModal(this.src)">
Â  Â  Â  Â  Â  Â  <div class="contador">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="menos">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" value="0" readonly data-precio="100" data-nombre="rosa_plata">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="mas">+</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="item-decoracion">Â 
Â  Â  Â  Â  Â  Â  <img src="solidos.png" alt="solidos" style="height:100px; cursor: pointer;" onclick="abrirModal(this.src)">
Â  Â  Â  Â  Â  Â  <div class="contador">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="menos">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" value="0" readonly data-precio="100" data-nombre="solidos">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="mas">+</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  </div>
</details>

      <details class="decoracion">
Â  <summary>Dijes</summary>
Â  Â  <div class="contenido-decoracion">

Â  Â  Â  Â  <div class="item-decoracion item-centrado">Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  <div class="grupo-visual">
Â  Â  Â  Â  Â  Â  Â  <span>($1000)</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="dijes.png" alt="dijes" style="height:100px; cursor: pointer;" onclick="abrirModal(this.src)">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="contador">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="menos">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" value="0" readonly data-precio="1000" data-nombre="Dijes">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="mas">+</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  </div>
</details>


        <div style="margin-top:15px;">
          <label>Detalles (color, grosor, etc):</label>
          <textarea class="notas" rows="2"
                    style="width:100%; border-radius:8px; padding:8px; margin-top:5px; border:1px solid #ccc; resize:vertical;"></textarea>
        </div>

        <div class="subtotal">Subtotal: $2000 COP</div>
Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <button id="agregarPulsera">â• Agregar otra pulsera</button>
Â  Â  <div id="total">Total: $3000 COP</div>

Â  Â  <div class="botones-exportar">
Â  Â  Â  <button onclick="descargarPDF()">ğŸ“„ Descargar Vale en PDF</button>
Â  Â  Â  <button class="whatsapp" onclick="enviarWhatsApp()">ğŸ’¬ Enviar por WhatsApp</button>
Â  Â  </div>
Â  </div>

<div id="imagen-modal" class="modal-zoom" onclick="cerrarModal()">
Â  Â  <span class="cerrar-btn">&times;</span>
Â  Â  <img class="modal-contenido" id="imagen-ampliada">
</div>

<script>
const WHATSAPP_NUM = "573014348004";Â 
const MANO_OBRA = 3000;

/* ************** INICIALIZACIÃ“N DEL MODAL ************** */
const modal = document.getElementById('imagen-modal');
const imagenAmpliada = document.getElementById('imagen-ampliada');

function abrirModal(src) {
Â  Â  imagenAmpliada.src = src;
Â  Â  modal.style.display = 'block';
}

function cerrarModal() {
Â  Â  // Asegura que solo se cierre al hacer clic en el fondo o en la X
Â  Â  if (event.target === modal || event.target.classList.contains('cerrar-btn')) {
Â  Â  Â  Â  modal.style.display = 'none';
Â  Â  }
}
/* **************************************************** */

/* Extraer nombre y precio de forma robusta (usando data attributes del input) */
function obtenerNombreYPrecio(input) {
Â  const nombre = input.dataset.nombre || "ArtÃ­culo sin nombre";
Â  const precio = parseInt(input.dataset.precio || "0", 10);
Â  return { nombre, precio };
}

/* Actualizar totales en pantalla */
function actualizarTotales() {
Â  let totalGeneral = 0;
Â  document.querySelectorAll(".pulsera").forEach((pulsera, i) => {
Â  Â  let subtotalPulsera = MANO_OBRA;

Â  Â  pulsera.querySelectorAll(".item-decoracion input[type='text']").forEach(input => {
Â  Â  Â  const cantidad = parseInt(input.value || "0", 10);
Â  Â  Â  const { precio } = obtenerNombreYPrecio(input);
Â  Â  Â  subtotalPulsera += cantidad * precio;
Â  Â  });
Â  Â Â 
Â  Â  const subtotalDiv = pulsera.querySelector(".subtotal");
Â  Â  if (subtotalDiv) {
Â  Â  Â  subtotalDiv.textContent = `Subtotal: $${subtotalPulsera.toLocaleString("es-CO")} COP`;
Â  Â  }

Â  Â  totalGeneral += subtotalPulsera;
Â  });

Â  document.getElementById("total").textContent = `Total: $${totalGeneral.toLocaleString("es-CO")} COP`;
}

/* Generar resumen (CLAVE para PDF y WhatsApp) */
function generarResumenTexto() {
Â  let resumen = "Â¡Hola! Quisiera realizar este pedido de pulseras:\n\n";
Â  let totalGeneral = 0;
Â  const pulseras = document.querySelectorAll(".pulsera");

Â  if (pulseras.length === 0) {
Â  Â  resumen += "No hay pulseras seleccionadas.\n\n";
Â  }

Â  pulseras.forEach((pulsera, i) => {
Â  Â  resumen += `*Pulsera ${i+1}:*\n`;
Â  Â  let subtotalPulsera = MANO_OBRA;
    let tieneDecoracion = false; 

Â  Â  pulsera.querySelectorAll(".item-decoracion input[type='text']").forEach(input => {
Â  Â  Â  const cantidad = parseInt(input.value || "0", 10);
Â  Â  Â  if (cantidad > 0) {
        tieneDecoracion = true;
Â  Â  Â  Â  const { nombre, precio } = obtenerNombreYPrecio(input);
Â  Â  Â  Â  const subtotalItem = cantidad * precio;
Â  Â  Â  Â  resumen += ` - ${nombre} ($${precio.toLocaleString("es-CO")}) x${cantidad} = $${subtotalItem.toLocaleString("es-CO")} COP\n`;
Â  Â  Â  Â  subtotalPulsera += subtotalItem;
Â  Â  Â  }
Â  Â  });

    if (!tieneDecoracion) {
        resumen += ` - Solo pulsera (Costo Base): $${MANO_OBRA.toLocaleString("es-CO")} COP\n`;
    }

Â  Â  const notas = pulsera.querySelector(".notas")?.value.trim();
Â  Â  if (notas) resumen += ` *Detalles:* ${notas}\n`;

    if (tieneDecoracion) {
        resumen += ` Costo Base (Mano de obra): $${MANO_OBRA.toLocaleString("es-CO")} COP\n`;
    }
Â  Â  resumen += ` **Subtotal Pulsera ${i+1}: $${subtotalPulsera.toLocaleString("es-CO")} COP**\n\n`;

Â  Â  totalGeneral += subtotalPulsera;
Â  });

Â  resumen += `*----------------------------------*\n`;
Â  resumen += `**TOTAL GENERAL: $${totalGeneral.toLocaleString("es-CO")} COP**\n`;
Â  resumen += `*----------------------------------*\n`;
Â  resumen += `Â¡Gracias por tu compra!`;

Â  return { texto: resumen, total: totalGeneral };
}

/* ğŸ“„ Descargar PDF */
function descargarPDF() {
Â  const { jsPDF } = window.jspdf;
Â  const doc = new jsPDF({ unit: "pt", format: "a4" });

Â  const { texto } = generarResumenTexto();
Â  const textoPDF = texto.replace(/\*/g, '').replace(/_/g, ''); 
Â  const lines = doc.splitTextToSize(textoPDF, 520);

Â  doc.setFont("helvetica", "normal");
Â  doc.setFontSize(12);

Â  // TÃ­tulo
Â  doc.setFontSize(18);
Â  doc.setFont("helvetica", "bold");
Â  doc.text("Vale de Pedido - The Family Store", 40, 40);
Â  doc.setLineWidth(1);
Â  doc.line(40, 50, 560, 50);

Â  let y = 70;
Â  doc.setFontSize(12);
Â  doc.setFont("helvetica", "normal");

Â  lines.forEach(line => {
Â  Â  if (y > 800) {
Â  Â  Â  doc.addPage();
Â  Â  Â  y = 40;
Â  Â  }
Â  Â  // Estilos para negritas
Â  Â  if (line.includes("Subtotal Pulsera") || line.includes("TOTAL GENERAL")) {
        doc.setFont("helvetica", "bold");
Â  Â  Â  Â  doc.text(line, 40, y);
Â  Â  Â  Â  doc.setFont("helvetica", "normal");
Â  Â  } else {
Â  Â  Â  Â  doc.text(line, 40, y);
Â  Â  }
Â  Â  y += 14;
Â  });

Â  doc.save("vale_compra.pdf");
}

/* ğŸ’¬ Enviar por WhatsApp */
function enviarWhatsApp() {
Â  const { texto } = generarResumenTexto();
Â  const numero = WHATSAPP_NUM.replace(/\D/g, "");
Â  // Usamos encodeURIComponent para asegurar que los saltos de lÃ­nea y sÃ­mbolos se envÃ­en bien.
Â  const url = `https://wa.me/${numero}?text=${encodeURIComponent(texto)}`;
Â  window.open(url, "_blank");
}

/* ************** DELEGACIÃ“N DE EVENTOS ************** */

document.addEventListener("click", e => {
Â  if (e.target.classList.contains("mas")) {
Â  Â  const input = e.target.parentElement.querySelector("input");
Â  Â  input.value = parseInt(input.value || "0", 10) + 1;
Â  Â  actualizarTotales();
Â  }

Â  if (e.target.classList.contains("menos")) {
Â  Â  const input = e.target.parentElement.querySelector("input");
Â  Â  input.value = Math.max(0, parseInt(input.value || "0", 10) - 1);
Â  Â  actualizarTotales();
Â  }

Â  if (e.target.classList.contains("btn-borrar")) {
Â  Â  e.target.closest(".pulsera").remove();
Â  Â  actualizarTotales();
Â  }

Â  if (e.target.id === "agregarPulsera") {
Â  Â  const contenedor = document.getElementById("pulseras");
Â  Â  const primera = contenedor.querySelector(".pulsera");
Â  Â  const copia = primera.cloneNode(true);

Â  Â  copia.querySelectorAll("input").forEach(input => input.value = "0");
Â  Â  copia.querySelectorAll("textarea").forEach(area => area.value = "");
Â  Â  copia.querySelector(".subtotal").textContent = `Subtotal: $${MANO_OBRA.toLocaleString("es-CO")} COP`;

Â  Â  contenedor.appendChild(copia);
Â  Â  actualizarTotales();
Â  }
});

/* Inicializar totales */
document.addEventListener("DOMContentLoaded", actualizarTotales);
</script>

</body>
</html>







































